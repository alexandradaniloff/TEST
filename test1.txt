#Приветствие
def greet():
    print("-----------------------")
    print("Приветствуем вас в игре")
    print("   крестики-нолики!")
    print("-----------------------")
    print("формат ввода:х у")
    print("х - номер строки,")
    print("у - номер столбца.")
    print()
greet()
field = [[" "] * 3 for i in range(3)]
#Поле
def show():

    print(f"     0 | 1 | 2 |")
    print("----------------")
    for i in range(3):
        print(f" {i} | {field[i][0]} | {field[i][1]} | {field[i][2]} |")
        print("----------------")
show()
# Проверка координат.
def ask():
    while True:
        cords = input("Ваш ход (введите 2 координаты через пробел): ").split()
        if len(cords) != 2:
            print("Введите 2 координаты!")
            continue

        x, y = cords

        if not(x.isdigit()) or not(y.isdigit()):
            print("Введите числа!")
            continue
        x, y = int(x), int(y)

        if x < 0 or x > 2 or y < 0 or y > 2:
            print("Координаты вне диапазона!")
            continue

        if field[x][y]!=" ":
            print("Клетка занята!")
            continue
        return x, y
ask()
num=0
# Проверка выигрышных комбинаций.
def check_win():
    win_cord = (((0, 0), (0, 1), (0, 2)), ((1, 0), (1, 1), (1, 2)), ((2, 0), (2, 1), (2, 2)),
                ((0, 0), (1, 0), (2, 0)), ((0, 1), (1, 1), (2, 1)), ((0, 2), (1, 2), (2, 2)),
                ((0, 0), (1, 1), (2, 2)), ((0, 2), (1, 1), (2, 0)))
    for cord in win_cord:
        symbols = []
        for c in cord:
            symbols.append(field[c[0]][c[1]])
        if symbols == ["X", "X", "X"]:
            print("Выиграл Х!!!")
            return True
        if symbols == ["0", "0", "0"]:
            print("Выиграл 0!!!")
            return True
    return False


check_win()
# Игровой цикл.
while True:
    num+=1

    if num %2==1:
        print("Ходит крестик.")
    else:
        print("Ходит нолик.")
    x, y = ask()
    if num %2==1:
        field[x][y] = "X"
    else:
        field[x][y] = "0"
    show()
    if check_win():
        break
    if num==9:
        print("Ничья.")
        break





